<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='All figures in this blog are embedded by Github Image Hosting Service. These figures may not be displayed on mobile devices.
 OOP Fundamental The fundamental concepts of OOP are objects and classes. An object is a data structure incorporating information about state and behavior. For example, an object representing a customer can have a certain phone number and email associated with them, and behaviors like placeOrder or cancelOrder. The distinctive feature of OOP is that state and behavior are bundled together: instead of thinking of customer data separately from customer actions, we think of them as one unit representing a customer.'><title>Object Oriented Programming IV (Class)</title>

<link rel='canonical' href='https://wanghaoming177.netlify.app/p/object-oriented-programming-iv-class/'>

<link rel="stylesheet" href="/scss/style.min.6cb794b99473add9625fc6fcb4fd8782c21b06365b632b8fbb1076efe11c688e.css"><meta property='og:title' content='Object Oriented Programming IV (Class)'>
<meta property='og:description' content='All figures in this blog are embedded by Github Image Hosting Service. These figures may not be displayed on mobile devices.
 OOP Fundamental The fundamental concepts of OOP are objects and classes. An object is a data structure incorporating information about state and behavior. For example, an object representing a customer can have a certain phone number and email associated with them, and behaviors like placeOrder or cancelOrder. The distinctive feature of OOP is that state and behavior are bundled together: instead of thinking of customer data separately from customer actions, we think of them as one unit representing a customer.'>
<meta property='og:url' content='https://wanghaoming177.netlify.app/p/object-oriented-programming-iv-class/'>
<meta property='og:site_name' content='Haoming Wang'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Object Oriented Programming' /><meta property='article:published_time' content='2019-09-10T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2019-09-10T00:00:00&#43;00:00'/><meta property='og:image' content='https://wanghaoming177.netlify.app/head_img/oop_hi/oo5.png' />
<meta name="twitter:title" content="Object Oriented Programming IV (Class)">
<meta name="twitter:description" content="All figures in this blog are embedded by Github Image Hosting Service. These figures may not be displayed on mobile devices.
 OOP Fundamental The fundamental concepts of OOP are objects and classes. An object is a data structure incorporating information about state and behavior. For example, an object representing a customer can have a certain phone number and email associated with them, and behaviors like placeOrder or cancelOrder. The distinctive feature of OOP is that state and behavior are bundled together: instead of thinking of customer data separately from customer actions, we think of them as one unit representing a customer."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://wanghaoming177.netlify.app/head_img/oop_hi/oo5.png' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "dark");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/IMG_0770_hu86b91b9497cdda82d5c488540c7342b2_101927_300x0_resize_q75_box.jpg" width="300"
                            height="273" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üåè</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Haoming Wang</a></h1>
            <h2 class="site-description">We choose to go to the moon in this decade and do the other things, not because they are easy, but because they are hard.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/floating15'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Linkedin"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <rect x="4" y="4" width="16" height="16" rx="2" />
  <line x1="8" y1="11" x2="8" y2="16" />
  <line x1="8" y1="8" x2="8" y2="8.01" />
  <line x1="12" y1="16" x2="12" y2="11" />
  <path d="M16 16v-3a2 2 0 0 0 -4 0" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://follow.it/haoming-wang?action=followPub'
                        target="_blank"
                        title="r-mail"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mailbox" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M10 21v-6.5a3.5 3.5 0 0 0 -7 0v6.5h18v-6a4 4 0 0 0 -4 -4h-10.5" />
  <path d="M12 11v-8h4l2 2l-2 2h-4" />
  <path d="M6 15h1" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="#FF1C02" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="#35FF02" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/notes/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-math-function" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#02EAFF" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M14 10h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1" />
  <path d="M13 17c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5" />
  <path d="M3 19c0 1.5 .5 2 2 2s2 -4 3 -9s1.5 -9 3 -9s2 .5 2 2" />
  <line x1="5" y1="12" x2="11" y2="12" />
</svg>
                
                <span>Notes</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="#0223FF" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="#F402FF" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        

        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/object-oriented-programming-iv-class/">
                
                    <img src="/head_img/oop_hi/oo5.png" loading="lazy" alt="Featured image of post Object Oriented Programming IV (Class)" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/python/" style="background-color: false; color: false;">
                Python
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/object-oriented-programming-iv-class/">Object Oriented Programming IV (Class)</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Sep 10, 2019</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    41 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <blockquote>
<p>All figures in this blog are embedded by Github Image Hosting Service. These figures may not be displayed on mobile devices.</p>
</blockquote>
<h1 id="oop-fundamental">OOP Fundamental</h1>
<p>The fundamental concepts of OOP are objects and classes. <strong>An object is a data structure incorporating information about state and behavior.</strong> For example, an object representing a customer can have a certain phone number and email associated with them, and behaviors like placeOrder or cancelOrder. The distinctive feature of OOP is that state and behavior are bundled together: instead of thinking of customer data separately from customer actions, we think of them as one unit representing a customer. This is called <strong>encapsulation</strong>, and it&rsquo;s one of the core tenets of object-oriented programming.</p>
<p>Classes are like blueprints for objects. <strong>They describe the possible states and behaviors that every object of a certain type could have</strong>. For example, if you say &ldquo;every customer will have a phone number and an email, and will be able to place and cancel orders&rdquo;, you just defined a class. This way, you can talk about customers in a unified way. In Python, <strong>everything is an object. In particular, everything you deal with in Python has a class</strong>, a blueprint associated with it under the hood. The existence of these unified interfaces, is why you can use one kind of object in the same way.</p>
<p>Classes incorporate information about state and behavior. State information in Python is contained in <strong>attributes</strong>, and behavior information &ndash; in <strong>methods</strong>.  For example, every numpy array has an attribute &ldquo;<code>shape</code>&rdquo; and a method &ldquo;<code>reshape()</code>&rdquo;. Attributes (or states) in Python objects are represented by <strong>variables</strong> &ndash; like numbers, or strings, or tuples. Methods, or behaviors, are represented by <strong>functions</strong>. Both are accessible from an object using the dot <code>.</code> syntax.</p>
<p>You can call <code>type()</code> on any Python object to find out its class. And You can list all the attributes and methods that an object has by calling <code>dir()</code> on it.</p>
<h2 id="attributes-and-method">Attributes and Method</h2>
<p>To start a new class definition, all you need is a <code>class</code> statement, followed by the name of the class, followed by a colon. Everything in the indented block after will be considered a part of the class. You can create an &ldquo;empty&rdquo; class by including the <code>pass</code> statement after the class declaration.</p>
<p>We can create objects of the class by specifying the name of the class, followed by <strong>parentheses</strong>. Here, <code>c1</code> and <code>c2</code> are two <strong>different</strong> objects of the empty class <code>Customer</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">pass</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">()</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>&lt;__main__.Customer object at 0x7fbc4944ad00&gt;
&lt;__main__.Customer object at 0x7fbc4944adc0&gt;
</code></pre><p>Defining a method is simple. Methods are functions, so the definition of a method looks just like a regular Python function, with one exception: <strong>the <code>self</code> argument that every method will have as the first argument, possibly followed by other arguments</strong>.</p>
<p>Classes are templates. Objects of a class don&rsquo;t yet exist when a class is being defined, but we often need a way to refer to the data of a particular object within class definition. That is the purpose of <code>self</code> - it&rsquo;s a stand-in for the future object. That&rsquo;s why every method should have the <code>self</code> argument &ndash; so we could use it to access attributes and call other methods from within the class definition even when no objects were created yet. Python will handle <code>self</code> when the method is called from an object using the <code>object.method()</code> syntax. In fact, <strong>using <code>object.method()</code> is equivalent to passing that object as an argument</strong>. That&rsquo;s why we don&rsquo;t specify it explicitly when calling the method from an existing object.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;This is &#34;</span><span class="o">+</span><span class="n">name</span><span class="p">)</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">()</span>
<span class="n">c1</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>This is haoming
</code></pre><p>By the principles of OOP, the data describing the state of the object should be <strong>bundled</strong> into the object. For example, customer name should be an attribute of a customer object, instead of a parameter passed to a method. In Python attributes &ndash; like variables &ndash; are created by <strong>assignment</strong>, meaning an attribute manifests into existence only when a value is assigned to it. (thus you can modify attr by assignment either inside the class, i.e. method; or outside the class, assignment.)</p>
<p>Here is a method <code>set_name</code> with arguments <code>self</code> and <code>new_name</code>. To create an attribute of the <code>Customer</code> class called &ldquo;<code>name</code>&rdquo;, all we need to do is to assign something to <code>self.name</code>. Here, we set the name attribute to the <code>new_name</code> parameter of the function. When we create a customer, it does not yet have a <code>name</code> attribute. But after the <code>set_name</code> method was called, the name attribute is created, and we can access it through <code>.name</code>.</p>
<blockquote>
<p>Remember, <code>self</code> is a stand-in for object, so <code>self.attribute</code> should remind you of the <code>object.attribute</code> syntax.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
	<span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;This is &#34;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_74663/4057745890.py in &lt;module&gt;
      6 
      7 c1 = Customer()
----&gt; 8 print(c1.name)

AttributeError: 'Customer' object has no attribute 'name'
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">c1</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">)</span>
<span class="n">c1</span><span class="o">.</span><span class="n">identify</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>This is haoming
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">new_name</span>

    <span class="k">def</span> <span class="nf">set_salary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_salary</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">new_salary</span> 

    <span class="k">def</span> <span class="nf">give_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">+</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">monthly_salary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span><span class="o">/</span><span class="mi">12</span>

    
<span class="n">emp</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">()</span>
<span class="n">emp</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s1">&#39;Korel Rossi&#39;</span><span class="p">)</span>
<span class="n">emp</span><span class="o">.</span><span class="n">set_salary</span><span class="p">(</span><span class="mi">50000</span><span class="p">)</span>
<span class="n">emp</span><span class="o">.</span><span class="n">give_raise</span><span class="p">(</span><span class="mi">15000</span><span class="p">)</span>
<span class="n">mon_sal</span> <span class="o">=</span> <span class="n">emp</span><span class="o">.</span><span class="n">monthly_salary</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;annual package: &#34;</span><span class="p">,</span> <span class="n">emp</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;month salary: &#34;</span><span class="p">,</span> <span class="n">mon_sal</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>annual package:  65000
month salary:  5416.666666666667
</code></pre><h2 id="__init__-constructor"><code>__init__</code> constructor</h2>
<p>We have discussed that methods are functions within class with a special first argument <code>self</code>, and attributes are created by assignment and referred to using the <code>self</code> variable <strong>within methods</strong>.</p>
<p>A better strategy would be to add data to the object <strong>when creating it</strong>, like you do when creating a numpy array or a DataFrame. <strong>Python allows you to add a special method <code>__init__</code> called the constructor that is automatically called every time an object is created</strong>.</p>
<p>So now, we can pass the parameter in the parentheses when creating the customer object, and the <code>__init__</code> method will be automatically called, and the attribute created. The init constructor is also a good place to set the <strong>default values</strong> for attributes.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- # 1.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">if</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="mi">0</span>
          <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Invalid salary!&#34;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hire_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hire_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        
    <span class="k">def</span> <span class="nf">give_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">+=</span> <span class="n">amount</span>

    <span class="k">def</span> <span class="nf">monthly_salary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span><span class="o">/</span><span class="mi">12</span>
      
<span class="n">emp</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Korel Rossi&#34;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Invalid salary!
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>
<span class="n">emp</span><span class="o">.</span><span class="n">give_raise</span><span class="p">(</span><span class="mi">12324</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">monthly_salary</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">monthly_salary</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">hire_date</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Korel Rossi
0
&lt;bound method Employee.monthly_salary of &lt;__main__.Employee object at 0x7fbc68aa6b80&gt;&gt;
1027.0
2019-08-21 11:56:58.019767
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- # 2.</span>
<span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="s2">&#34;&#34;&#34;Accepts two arguments that initialize the corresponding attributes.
</span><span class="s2">
</span><span class="s2">        Args:
</span><span class="s2">            x(float,optional)
</span><span class="s2">            y(float,optional)
</span><span class="s2">        &#34;&#34;&#34;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="k">def</span> <span class="nf">distance_to_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&#34;&#34;&#34;Returns the distance from the point to the origin.&#34;&#34;&#34;</span>
        <span class="n">dis</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">.5</span>
        <span class="k">return</span> <span class="n">dis</span>
    
    <span class="k">def</span> <span class="nf">reflect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="s2">&#34;&#34;&#34;Reflects the point with respect to the x- or y-axis&#34;&#34;&#34;</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s2">&#34;x&#34;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="k">elif</span> <span class="n">axis</span> <span class="o">==</span> <span class="s2">&#34;y&#34;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;error message&#34;</span><span class="p">)</span>

<span class="n">pt</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="s2">&#34;y&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
<span class="n">pt</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">distance_to_origin</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>(-3.0, 0)
5.0
</code></pre><p>There are some conventions that will make your code more reader-friendly.</p>
<ol>
<li>
<p>There are two ways to define attributes: we can define an attribute in any method in a class; and then calling the method will add the attribute to the object. Alternatively, we can define them all together in the constructor. If possible, use latter, which makes your code more organized, readable, and maintainable code.</p>
</li>
<li>
<p>For <strong>classes</strong>, words should be camel case, which means that if your class name contains several words, they should be written without delimiters, and each word should start with a capital letter. For <strong>methods and attributes</strong>, words should be separated by underscores and start with lowercase letters.</p>
</li>
<li>
<p>the name &ldquo;<code>self</code>&rdquo; is a convention. You could actually use any name for the first variable of a method, it will always be treated as the object reference regardless.</p>
</li>
<li>
<p>classes, like functions, allow for docstrings which are displayed when <code>help()</code> is called on the object.</p>
</li>
</ol>
<h1 id="inheritance-and-polymorphism">Inheritance and Polymorphism</h1>
<h2 id="instance-and-class-data">Instance and class data</h2>
<h3 id="class-level-attribute">Class-level attribute</h3>
<p>Remember the class we defined above. It had attributes like <code>name</code> and <code>salary</code>, and we were able to assign specific values to them for each new instance of the class. These were <strong>Instance-level attributes</strong>. We used <code>self</code> to bind them to a particular instance.</p>
<p>But if you needed to store some data that is shared among all the instances of a class, you can <strong>define an attribute directly in the class body</strong>. This will create a <strong>Class-level attribute</strong>, that will serve as a &ldquo;global variable&rdquo; within a class.</p>
<p>We can define Class-level attribute <code>MIN_SALARY</code>, and set it to 30000. <strong>We refer to the attribute this attribute inside the class like we would use any global variable, only follow by the class name, instead of <code>self</code></strong>. This <code>MIN_SALARY</code> variable will be shared among all the instances of the employee class. <strong>We can access it like any other attribute from an object instance</strong>, and the value will be the <strong>same across instances</strong>. Here we print the <code>MIN_SALARY</code> class attribute from two employee objects.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
	<span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="mi">30000</span> <span class="c1"># &lt;-- assign Class-level attr, directly without `self`</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="c1"># &lt;-- assign Instance-level attr, bounded with instance by `self`</span>
		<span class="k">if</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">:</span> <span class="c1"># &lt;-- refer Class-level attr inside the class</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span>  <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Haoming&#34;</span><span class="p">,</span> <span class="mi">37000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Yachong&#34;</span><span class="p">,</span> <span class="mi">36999</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span> <span class="c1"># &lt;-- refer Class-level attr outside the class</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Haoming
37000
30000
30000
30000
</code></pre><p>Notice that you can modify Class-level attr by assigning value to <code>obj.ATTR</code> directly. But if you do that, the only thing you changed is the specific instance&rsquo;s attr, rather than the all instance.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="mi">34000</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>34000
30000
30000
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- # 1</span>
<span class="k">class</span> <span class="nc">Player</span><span class="p">:</span>
    <span class="n">MAX_POSITION</span> <span class="o">=</span> <span class="mi">10</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">+</span> <span class="n">steps</span> <span class="o">&lt;</span> <span class="n">Player</span><span class="o">.</span><span class="n">MAX_POSITION</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">+=</span> <span class="n">steps</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">MAX_POSITION</span>
      
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">drawing</span> <span class="o">=</span> <span class="s2">&#34;-&#34;</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">+</span> <span class="s2">&#34;|&#34;</span> <span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">*</span><span class="p">(</span><span class="n">Player</span><span class="o">.</span><span class="n">MAX_POSITION</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">drawing</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Player</span><span class="p">();</span> <span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>|----------
----|------
---------|-
----------|
</code></pre><h3 id="class-level-method">Class-level method</h3>
<p>Instance-level methods are already shared between instances: the same code gets executed for every instance. The only difference is the data (different instance&rsquo;s attr) that is fed into it.</p>
<p>It is possible to define methods bound to class rather than an instance, but they have a narrow application scope, <strong>because these methods will not be able to use any instance-level data</strong>. To define a class method, you start with a <code>classmethod</code> decorator, followed by a method definition. The only difference is that now <strong>the first argument is not <code>self</code>, but <code>cls</code>, referring to the class</strong>, just like the <code>self</code> argument was a reference to a particular instance. To call a class method, we use <code>class.method</code> syntax, rather than <code>object.method syntax</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
	<span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="mi">30000</span> 
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span> 
		<span class="k">if</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">:</span> 
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span>  <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span>
	
	<span class="nd">@classmethod</span>
	<span class="k">def</span> <span class="nf">minsalary</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">min_salary</span><span class="p">):</span>
		<span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="n">min_salary</span>

	<span class="nd">@classmethod</span>
	<span class="k">def</span> <span class="nf">delta_minsalary</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">delta</span><span class="p">):</span>
		<span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span> <span class="o">+=</span> <span class="n">delta</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Haoming&#34;</span><span class="p">,</span> <span class="mi">37000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Yachong&#34;</span><span class="p">,</span> <span class="mi">36999</span><span class="p">)</span>
<span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="mi">27000</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;1: &#34;</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;2: &#34;</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>

<span class="n">Employee</span><span class="o">.</span><span class="n">minsalary</span><span class="p">(</span><span class="mi">25000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;3: &#34;</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;4: &#34;</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>

<span class="n">Employee</span><span class="o">.</span><span class="n">delta_minsalary</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;5: &#34;</span><span class="p">,</span> <span class="n">emp1</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;6: &#34;</span><span class="p">,</span> <span class="n">emp2</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>1:  27000
2:  30000
3:  27000
4:  25000
5:  27000
6:  25500
</code></pre><p>The main use of class methods is <strong>alternative constructors</strong>. A class can only have one <strong><code>__init__</code></strong> method, but there might be <strong>multiple ways to initialize an object</strong>. For example, we might want to create an <code>Employee</code> object from data stored in a file. We can&rsquo;t use a <strong>instance method, because it would require an instance, and there isn&rsquo;t one yet</strong>.</p>
<p>Here we introduce a <strong>class method <code>from_file</code></strong> that accepts a file name, reads the first line from the file that presumably contains the name of the employee, and returns an object instance. <strong>In the return statement, we use the <code>cls</code> variable, which refers to the class that class method follows, so this will <em>call (notice the parentheses)</em> the class and activities the <code>__init__</code> constructor, just like using <code>Employee</code> with <em>parentheses</em>, and finally return object instance.</strong></p>
<p>Then we can call the method <code>from_file</code> by using <code>class.method</code> syntax, which will <strong>create an employee object without explicitly calling the constructor</strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="err">!</span><span class="n">echo</span> <span class="n">haoming</span> <span class="o">&gt;</span> <span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">names</span><span class="o">.</span><span class="n">txt</span>
<span class="err">!</span><span class="n">echo</span> <span class="n">yachong</span> <span class="o">&gt;&gt;</span> <span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">names</span><span class="o">.</span><span class="n">txt</span>
<span class="err">!</span><span class="n">echo</span> <span class="n">shaonan</span> <span class="o">&gt;&gt;</span> <span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">names</span><span class="o">.</span><span class="n">txt</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
	<span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="mi">30000</span> 
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span> 
		<span class="k">if</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">:</span> 
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span>  <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span>
	
	<span class="nd">@classmethod</span>
	<span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&#34;r&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
			<span class="n">names</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
		<span class="n">name</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&#34;/Users/wanghaoming/Documents/names.txt&#34;</span>

<span class="n">objs</span> <span class="o">=</span> <span class="p">[</span>
	<span class="n">Employee</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">info</span> <span class="o">=</span> <span class="p">[(</span><span class="n">obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>[('haoming\n', 30000), ('yachong\n', 30000), ('shaonan\n', 30000)]
</code></pre><blockquote>
<p>Notice that class is also an object, just like function.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">class</span> <span class="nc">BetterDate</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">=</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span>
      
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_str</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">datestr</span><span class="p">):</span>
        <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">datestr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34;-&#34;</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>
      
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_datetime</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
        <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">day</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>     
<span class="n">bd</span> <span class="o">=</span> <span class="n">BetterDate</span><span class="o">.</span><span class="n">from_datetime</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>   
<span class="nb">print</span><span class="p">(</span><span class="n">bd</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bd</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bd</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>2019
9
4
</code></pre><h2 id="class-inheritance">Class inheritance</h2>
<p>Object-oriented programming is fundamentally about code reuse. There are millions of people out there writing code, so there&rsquo;s a good chance that someone has already written code that solves a part of your problem! But what if that code doesn&rsquo;t match your needs exactly? For example, you might want to modify the <code>to_csv</code> method of a pandas DataFrame to adjust the output format. You could do that by importing pandas and writing a new function, but it will not be integrated into the DataFrame interface. <strong>OOP will allow you to keep interface consistent while customizing functionality</strong>.</p>
<p>We can accomplish this with <strong>inheritance</strong>. Class inheritance is mechanism by which <strong>we can define a new class that gets all the the functionality of another class plus maybe something extra</strong> without re-implementing the code.</p>
<p>Declaring a class that inherits from another class is very straightforward: you simply add parentheses after the class name, and then specify the class to inherit from. Here, we define a rudimentary <code>BankAccount</code> class and a <em>seemingly empty</em> <code>SavingsAccount</code> class inherited from it.&ldquo;Seemingly&rdquo; because <code>SavingsAccount</code> actually has exactly as much in it as the <code>BankAccount</code> class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>

<span class="k">class</span> <span class="nc">SavingsAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>
	<span class="k">pass</span>

<span class="n">sa1</span> <span class="o">=</span> <span class="n">SavingsAccount</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">sa1</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sa1</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>8976
</code></pre><p>Inheritance represents &ldquo;<strong>is-a</strong>&rdquo; relationship: <strong>a savings account is a bank account</strong> (The opposite is not true), just with some extra features.  Calling <code>isinstance</code> function on a <code>SavingsAccount</code> object shows that Python treats it like an instance of both <code>SavingsAccount</code> and <code>BankAccount</code> classes, which is not the case for a generic <code>BankAccount</code> object.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sa1</span><span class="p">,</span> <span class="n">BankAccount</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sa1</span><span class="p">,</span> <span class="n">SavingsAccount</span><span class="p">))</span>

<span class="n">ba1</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ba1</span><span class="p">,</span> <span class="n">BankAccount</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ba1</span><span class="p">,</span> <span class="n">SavingsAccount</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>True
True
True
False
</code></pre><p>Class-level attributes CAN be inherited, and the value of class attributes CAN be overwritten in the child class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Player</span><span class="p">:</span>
    <span class="n">MAX_POSITION</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="n">MAX_SPEED</span> <span class="o">=</span> <span class="mi">3</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">+</span> <span class="n">steps</span> <span class="o">&lt;</span> <span class="n">Player</span><span class="o">.</span><span class="n">MAX_POSITION</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">+=</span> <span class="n">steps</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">MAX_POSITION</span>

<span class="k">class</span> <span class="nc">Racer</span><span class="p">(</span><span class="n">Player</span><span class="p">):</span>
    <span class="n">MAX_SPEED</span> <span class="o">=</span> <span class="mi">5</span>
 
<span class="n">p</span> <span class="o">=</span> <span class="n">Player</span><span class="p">()</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">Racer</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;p.MAX_SPEED = &#34;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">MAX_SPEED</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;r.MAX_SPEED = &#34;</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">MAX_SPEED</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;p.MAX_POSITION = &#34;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">MAX_POSITION</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;r.MAX_POSITION = &#34;</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">MAX_POSITION</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>p.MAX_SPEED =  3
r.MAX_SPEED =  5
p.MAX_POSITION =  10
r.MAX_POSITION =  10
</code></pre><h2 id="customizing-functionality-via-inheritance">Customizing functionality via inheritance</h2>
<p>Let&rsquo;s customize <code>SavingsAccount</code> class by adding a constructor specifically for <code>SavingsAccount</code>. It will take a <code>balance</code> parameter, just like <code>BankAccount</code>, and an additional <code>interest_rate</code> parameter. In that constructor, we first run the code for creating a generic <code>BankAccount</code> by explicitly calling the <code>__init__</code> method follows the <code>bankAccount</code> class name.</p>
<p>Notice that we use <code>BankAccount.__init__()</code> to tell Python to <strong>call</strong> (note the parentheses) the constructor from the parent class, and we also pass <code>self</code> to that constructor. <strong><code>self</code> in this case refers a <code>SavingsAccount</code> object, but also a <code>BankAccount</code> object</strong>. so we can pass it to the <code>__init__</code> method of <code>BankAccount</code>. Then we can add more functionality, in this case just initializing an attribute.</p>
<p>Now when we create an instance of the <code>SavingsAccount</code> class, the new constructor will be called, and the <code>interest_rate</code> attribute will be initialized.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>

<span class="k">class</span> <span class="nc">SavingsAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">,</span> <span class="n">interest_rate</span><span class="p">):</span>
		<span class="n">BankAccount</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">interest_rate</span> <span class="o">=</span> <span class="n">interest_rate</span>

<span class="n">sa</span> <span class="o">=</span> <span class="n">SavingsAccount</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sa</span><span class="o">.</span><span class="n">balance</span><span class="p">,</span> <span class="n">sa</span><span class="o">.</span><span class="n">interest_rate</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>1000 0.05
</code></pre><blockquote>
<p>Remember that in Python, instances of a subclass are also instances of the parent class.</p>
</blockquote>
<p><code>SavingsAccount</code> inherits the <code>withdraw</code> method from the parent <code>BankAccount</code> class. Calling <code>withdraw</code> on a savings account instance will execute <strong>exactly the same code as</strong> calling it on a generic bank account instance.</p>
<p>You can <strong>add new methods</strong> to a subclass. In these methods <strong>you can use data from both the child and the parent class</strong>. For example here, we add a <code>compute_interest</code> method by an expression involving the <code>balance</code> attribute that inherits from the parent clsss ,and <code>interest_rate</code> attribute that exists only in the child <code>SavingsAccount</code> class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>

<span class="k">class</span> <span class="nc">SavingsAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">,</span> <span class="n">interest_rate</span><span class="p">):</span>
		<span class="n">BankAccount</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">interest_rate</span> <span class="o">=</span> <span class="n">interest_rate</span>
	
	<span class="k">def</span> <span class="nf">compute_interest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">*</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">interest_rate</span><span class="p">)</span> <span class="o">**</span> <span class="n">n_periods</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">sa</span> <span class="o">=</span> <span class="n">SavingsAccount</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mf">.05</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sa</span><span class="o">.</span><span class="n">compute_interest</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="n">sa</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">2048</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sa</span><span class="o">.</span><span class="n">compute_interest</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>2762.8156250000034
2196.9909850000026
</code></pre><p>You can also <strong>modify the method</strong> of parent class in the subclass. We now define another subclass of <code>BankAccount</code>. Start by inheriting from the parent class, add a customized constructor that also executes the parent code, a new <code>deposit</code> method, and a <strong><code>withdraw</code> method with a new argument to withdraw <code>fee</code></strong>.</p>
<blockquote>
<p>Notice that we can change the <strong>signature</strong>  of the method in the subclass by adding a parameter, and we again, just like in the constructor, call the parent version of the method directly by using <strong><code>parentclassname.method(self)</code> syntax</strong> and passing <code>self</code>. Notice the parentheses, that means we <strong>call</strong> this function.</p>
<p>( you can view function signature as number of arguments + type of argument + return value )</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>

<span class="k">class</span> <span class="nc">CheckingAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
		<span class="n">BankAccount</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span>
	
	<span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">fee</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">fee</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">:</span>
			<span class="n">BankAccount</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="o">+</span><span class="n">fee</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">BankAccount</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">)</span>


<span class="n">ca</span> <span class="o">=</span> <span class="n">CheckingAccount</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">ba</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ca</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
<span class="n">ca</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">6000</span><span class="p">,</span> <span class="mi">34</span><span class="p">)</span>
<span class="n">ba</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">6000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ca</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ba</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>10000
3966
4000
</code></pre><p>Now when you call withdraw from an object that is a <code>CheckingAccount</code> instance, the new customized version will be used, but when you call it from regular <code>BankAccount</code>, the basic version will be used. For a <code>CheckingAccount</code> instance, we could call the method with 2 parameters. But trying this call for a generic <code>BankAccount</code> instance would cause an error, because the method defined in the <code>BankAccount</code> class was not affected by the changes in the subclass.</p>
<p>The interface of the call is the <strong>same</strong>, and the actual method that is called is <strong>determined by the instance class</strong>. This is an application of <strong>polymorphism</strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">ba</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_74663/1465132301.py in &lt;module&gt;
----&gt; 1 ba.withdraw(300, 30)

TypeError: withdraw() takes 2 positional arguments but 3 were given
</code></pre><blockquote>
<p><code>withdraw()</code> takes <code>self</code> and <code>amount</code> 2 positional arguments.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">30000</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>

    <span class="k">def</span> <span class="nf">give_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">+=</span> <span class="n">amount</span>

<span class="k">class</span> <span class="nc">Manager</span><span class="p">(</span><span class="n">Employee</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Manager &#34;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">Employee</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="n">project</span>

    <span class="k">def</span> <span class="nf">give_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">bonus</span><span class="o">=</span><span class="mf">1.05</span><span class="p">):</span>
        <span class="n">Employee</span><span class="o">.</span><span class="n">give_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="o">*</span><span class="n">bonus</span><span class="p">)</span>
    
<span class="n">mngr</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">(</span><span class="s2">&#34;Ashta Dunbar&#34;</span><span class="p">,</span> <span class="mi">78500</span><span class="p">)</span>
<span class="n">mngr</span><span class="o">.</span><span class="n">give_raise</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mngr</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>
<span class="n">mngr</span><span class="o">.</span><span class="n">give_raise</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="n">bonus</span><span class="o">=</span><span class="mf">1.03</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mngr</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>79550.0
81610.0
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="k">class</span> <span class="nc">LoggedDF</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
  
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
		<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
    
	<span class="k">def</span> <span class="nf">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
		<span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="c1"># &lt;-- `self` refers the object that method follows. </span>
		<span class="n">temp</span><span class="p">[</span><span class="s2">&#34;created_at&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span>
		<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="n">LDF</span> <span class="o">=</span> <span class="n">LoggedDF</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="s2">&#34;a&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
    <span class="s2">&#34;b&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
    <span class="s2">&#34;c&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">)</span>

<span class="n">LDF</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&#34;~/Documents/LDF.csv&#34;</span><span class="p">)</span>
<span class="err">!</span><span class="n">cat</span> <span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">LDF</span><span class="o">.</span><span class="n">csv</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>,a,b,c,created_at
0,1,2,3,2019-09-04 20:05:50.471649
1,2,3,4,2019-09-04 20:05:50.471649
2,3,4,5,2019-09-09 20:05:50.471649
3,4,5,6,2019-09-09 20:05:50.471649
4,5,6,7,2019-09-09 20:05:50.471649
</code></pre><h1 id="integrating-with-standard-python">Integrating with Standard Python</h1>
<h2 id="object-and-type"><code>object</code> and <code>type</code>*</h2>
<p>This is a deep-level knowledge, which indeed bothers me for a long time. But reader could just skip it. When we say inheritance previously, It generally follows the rule: <code>class C2(C1):</code>. But if we do not specify what class does class inherits from, it inherits from <code>object</code> class. There are two rules in Python:</p>
<ul>
<li>every class (except <code>object</code>) inherits from class <code>object</code>.</li>
<li>every class is an instance of the class <code>type</code>.</li>
</ul>
<p>Furthermore, <code>type</code> is an instance of itself, and inherits from <code>object</code>, thus <strong><code>type</code> is an instance of <code>object</code></strong>. <code>object</code> is an instance of <code>type</code>, and <code>type</code> is inherits from <code>object</code>, thus <strong><code>object</code> is an instance of <code>object</code></strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">object</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="nb">object</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">type</span><span class="p">),</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">object</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>True
True
True
True

True
False
</code></pre><p>Every class (except <code>object</code>) inherits from <code>object</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="vm">__name__</span><span class="si">:</span><span class="s1">6</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="vm">__bases__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>object: ()
type  : (&lt;class 'object'&gt;,)
int   : (&lt;class 'object'&gt;,)
float : (&lt;class 'object'&gt;,)
str   : (&lt;class 'object'&gt;,)
list  : (&lt;class 'object'&gt;,)
dict  : (&lt;class 'object'&gt;,)
</code></pre><p>Every class is an instance of the class <code>type</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="vm">__name__</span><span class="si">:</span><span class="s1">6</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>object: &lt;class 'type'&gt;
type  : &lt;class 'type'&gt;
int   : &lt;class 'type'&gt;
float : &lt;class 'type'&gt;
str   : &lt;class 'type'&gt;
list  : &lt;class 'type'&gt;
dict  : &lt;class 'type'&gt;
</code></pre><p>Since <code>type</code> inherits from <code>object</code>, every class is an instance of the class <code>object</code> too.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="vm">__name__</span><span class="si">:</span><span class="s1">6</span><span class="si">}</span><span class="s1"> is an instance of object : </span><span class="si">{</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>object is an instance of object : True
type   is an instance of object : True
int    is an instance of object : True
float  is an instance of object : True
str    is an instance of object : True
list   is an instance of object : True
dict   is an instance of object : True
</code></pre><p><img src="https://raw.githubusercontent.com/floating15/img/main/202204121843476.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Thus you should know <em>&ldquo;Everything in Python is an object&rdquo;</em> better. Any classes that we define are objects (inherits), and of course, instances of those classes are objects (&rsquo;s instance) as well.</p>
<blockquote>
<p>Tips: <code>print(f&quot;{'aaa':5}bbb&quot;)</code> prints out <code>aaa  bbb</code>.</p>
</blockquote>
<h2 id="comparison">Comparison</h2>
<p>Here are two objects of the <code>Customer</code> class that have the same data. If we ask Python if these objects are equal, the answer is &ldquo;<code>False</code>&rdquo;. When an object is created, Python allocates a chunk of memory to that object, and the variable that the object is assigned to actually contains just the reference to the memory chunk.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

<span class="n">customer1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>
<span class="n">customer2</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>

<span class="n">customer1</span> <span class="o">==</span> <span class="n">customer2</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>False
</code></pre><p><strong>When we call <code>==</code> to compare variables, Python acquiescently compares references of the memory chunk, not the data.</strong> Because customer1 and customer2 point to different chunks in memory, they are not considered equal.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">print</span><span class="p">(</span><span class="n">customer1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">customer2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>&lt;__main__.Customer object at 0x7fe21895adf0&gt;
&lt;__main__.Customer object at 0x7fe21894f430&gt;
</code></pre><p>But we can define a special method for customizing comparison. <strong>The <code>__eq__</code> method is implicitly called whenever two objects are compared to each other</strong>. We can re-define this method to execute custom comparison code. The method should accept two arguments, referring to the objects to be compared. They are usually called <code>self</code> and <code>other</code> by convention.</p>
<p>Now, if we create two objects containing the same data and try to compare them using double equality sign, we see from the diagnostic printout that the <code>__eq__</code> method is called, and the comparison returns &ldquo;<code>True</code>&rdquo;.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

	<span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;__eq__() is called&#34;</span><span class="p">)</span>
		<span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
		
<span class="n">customer1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>
<span class="n">customer2</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">20000</span><span class="p">)</span>

<span class="n">customer1</span> <span class="o">==</span> <span class="n">customer2</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>__eq__() is called
True
</code></pre><p>Notice that the redefined <code>__eq__</code> method compares instances by only attributes, which means though we&rsquo;re comparing a <code>Phone</code> class instance with a <code>BankAccount</code> class instance, Python still returns <code>True</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Phone</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>

	<span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">number</span>

<span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">number</span><span class="p">,</span> <span class="n">balance</span>
      
    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span> 

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>

<span class="n">acct</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">873555333</span><span class="p">)</span>
<span class="n">pn</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="mi">873555333</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">acct</span> <span class="o">==</span> <span class="n">pn</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>True
</code></pre><p>But we can modify it by <code>type</code> function:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Phone</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>

	<span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Phone class&#39;s __eq__&#34;</span><span class="p">)</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">number</span>

<span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">number</span><span class="p">,</span> <span class="n">balance</span>
      
    <span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span> 
		
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;BankAccount class&#39;s __eq__&#34;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">number</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>

<span class="n">acct</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">873555333</span><span class="p">)</span>
<span class="n">pn</span> <span class="o">=</span> <span class="n">Phone</span><span class="p">(</span><span class="mi">873555333</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">acct</span> <span class="o">==</span> <span class="n">pn</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pn</span> <span class="o">==</span> <span class="n">acct</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>BankAccount class's __eq__
False
Phone class's __eq__
True
</code></pre><p>Notice that <strong>when comparing two object without inheriting relationship, the <code>__eq__</code> of former object&rsquo;s class will be called. <code>self</code> refers to this object, and <code>other</code> refers the later one</strong>, thus <code>acct==pn</code> is not equivalent with <code>pn==acct</code>.</p>
<p>But <strong>When we comparing two object with inheriting relationship, the subclass&rsquo;s <code>__eq__</code> will always be called</strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Parent</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Parent&#39;s __eq__() called&#34;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Child&#39;s __eq__() called&#34;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Parent</span><span class="p">()</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Child</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="n">p</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="n">p</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Child's __eq__() called
True
Child's __eq__() called
True
Child's __eq__() called
True
Parent's __eq__() called
True
</code></pre><blockquote>
<p>Recall, <code>__init__</code> implicitly called as creating an instance; <code>__eq__</code> implicitly called as calling <code>==</code>.</p>
</blockquote>
<p>Python allows you to implement all the comparison operators in your custom class using special methods:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Operator</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code></td>
<td><code>__eq__()</code></td>
</tr>
<tr>
<td><code>!=</code></td>
<td><code>__ne__()</code></td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td><code>__ge__()</code></td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td><code>__le__()</code></td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td><code>__gt__()</code></td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td><code>__lt__()</code></td>
</tr>
</tbody>
</table></div>
<h2 id="string-representation">String representation</h2>
<p><strong>When calling <code>print</code> on an object of a custom class returns the object&rsquo;s address in memory by default</strong>. But there are plenty of classes for which the printout is much more informative. For example, if we print a numpy array or a DataFrame, we&rsquo;ll see the actual data contained in the object.</p>
<p>There are two special methods that we can define in a class that will return a <strong>printable</strong> representation of an object.</p>
<p><code>__str__</code> method is executed when we call <code>print</code> or <code>str</code> on an object. <code>__str__</code> is supposed to give an informal representation, suitable for an end user;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">npls</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">npls</span><span class="p">)</span>
<span class="nb">str</span><span class="p">(</span><span class="n">npls</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>[1 2 3]
'[1 2 3]'
</code></pre><p><code>__repr__</code> method is executed when we call <code>repr</code> on the object, or when we print it in the console without calling <code>print</code> explicitly. <code>__repr__</code> is mainly used by developers.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">repr</span><span class="p">(</span><span class="n">npls</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>'array([1, 2, 3])'
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">npls</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>array([1, 2, 3])
</code></pre><p><code>__str__</code> and <code>__repr__</code> <strong>accept only <code>self</code> argument</strong> and <strong>return a string</strong>. The best practice is to use <code>__repr__</code> to print a string that can be used to <strong>reproduce the object</strong>. (reproduce means the return of <code>__repr__</code> could create the same object directly.)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
	
	<span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;__eq__() is called&#34;</span><span class="p">)</span>
		<span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>

	<span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="s2">&#34;Customer(&#39;</span><span class="si">{name}</span><span class="s2">&#39;, </span><span class="si">{balance}</span><span class="s2">)&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">142857</span><span class="p">)</span>
<span class="n">cc1</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">c1</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">cc1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cc1</span> <span class="o">==</span> <span class="n">c1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>&lt;class '__main__.Customer'&gt;
__eq__() is called
True
</code></pre><blockquote>
<p><code>eval</code> function accepts the string of an expression and return the value of the expression.</p>
</blockquote>
<p>If you only choose to implement one of them, chose <code>__repr__</code>, because it is also used as a <strong>fallback for print when <code>__str__</code> is not defined</strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

	<span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="s2">&#34;Customer(&#39;</span><span class="si">{name}</span><span class="s2">&#39;, </span><span class="si">{balance}</span><span class="s2">)&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>

<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">142857</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">repr</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Customer('haoming', 142857)
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Customer('haoming', 142857)
</code></pre><p>In this class we didn&rsquo;t define the <code>__str__</code> method, so <code>__repr__</code> will be used as a <strong>fallback</strong> for the actual <code>print</code> method as well. Notice the <strong>single quotes</strong> around the name in the return statement, the point of <code>__repr__</code> is to give the exact call needed to reproduce the the object, where the <code>name</code> should be in quotes.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">30000</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span>
      

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s2">&#34;Employee name: </span><span class="si">{name}</span><span class="se">\n</span><span class="s2">Employee salary: </span><span class="si">{salary}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>      
        <span class="k">return</span> <span class="n">s</span>
      
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&#34;Employee(&#39;</span><span class="si">{}</span><span class="s2">&#39;, </span><span class="si">{}</span><span class="s2">)&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span>   

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Amar Howard&#34;</span><span class="p">,</span> <span class="mi">30000</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Carolyn Ramirez&#34;</span><span class="p">,</span> <span class="mi">35000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">emp1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">emp1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">emp2</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>Employee name: Amar Howard
Employee salary: 30000
Employee name: Carolyn Ramirez
Employee salary: 35000

Employee('Amar Howard', 30000)
Employee('Carolyn Ramirez', 35000)
</code></pre><blockquote>
<p>Recall, the <strong>triple quotes</strong> are used in Python to define multi-line strings, and the <code>format</code> method is used on strings to substitute values inside curly brackets with variables.</p>
</blockquote>
<h2 id="exceptions">Exceptions</h2>
<p>Some statements in Python will cause an error when you try to execute them. These errors are called <strong>exceptions</strong>. Many exceptions have special names, like <code>ZeroDivisionError</code> or <code>TypeError</code>. If exceptions not handled correctly, they will stop the execution of your program entirely.</p>
<p>Instead, you might want to execute special code to handle this case. To catch an exception and handle it, use the <code>try-except-finally</code> code: wrap the code that you&rsquo;re worried about in a <code>try</code> block, then add an <code>except</code> block, followed by the name of the particular exception you want to handle (exceptions names are <strong>optional</strong>) , and the code that should be executed when the exception is raised. Then if this particular exception does happen, the program will not terminate, but execute the code in the <code>except</code> block instead. You can also have multiple exception blocks. And finally, you can use the optional &ldquo;<code>finally</code>&rdquo; block that will contain the code that runs no matter what. This block is best used for cleaning up like, for example, closing opened files.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">try</span><span class="p">:</span>
	<span class="c1"># Try running some code</span>
<span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
	<span class="c1"># Run this code if ZeroDivisionError happens</span>
<span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
	<span class="c1"># Run this code if TypeError happens</span>
<span class="k">finally</span><span class="p">:</span> <span class="c1"># &lt;-- optional</span>
	<span class="c1"># Run this code no matter what</span>
</code></pre></td></tr></table>
</div>
</div><p>Sometimes, you want to raise exceptions yourself, for example when some conditions aren&rsquo;t satisfied. You can use the <code>raise</code> keyword, <strong>optionally</strong> followed by a specific error message in <strong>parentheses</strong>. The user of the code can then decide to handle the error using <code>try/except</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">def</span> <span class="nf">make_list_of_ones</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
	<span class="k">if</span> <span class="n">length</span> <span class="o">&lt;=</span><span class="mi">0</span> <span class="p">:</span>
		<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;Invalid length!&#34;</span><span class="p">)</span>
	<span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">length</span>

<span class="k">def</span> <span class="nf">tef</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
	<span class="k">try</span><span class="p">:</span>
		<span class="n">func</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
	<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;length should be positive!&#34;</span><span class="p">)</span>
	<span class="k">finally</span><span class="p">:</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;program is over.&#34;</span><span class="p">)</span>

<span class="n">tef</span><span class="p">(</span><span class="n">make_list_of_ones</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>length should be positive!
program is over.
</code></pre><p>You can define your own exceptions in Python by inheriting from built-in classes <code>BaseException</code> or <a class="link" href="https://docs.python.org/3/library/exceptions.html"  target="_blank" rel="noopener"
    >Exception</a>. To define a custom exception, just <strong>define a class that inherits from the built-in <code>Exception</code> class or one of its subclasses</strong>. The class itself can be <strong>empty</strong> - inheritance alone is enough to ensure that Python will treat this class as an exception class.</p>
<p>For example, let&rsquo;s define a <code>BalanceError</code> class that inherits from <code>Exception</code>. Then, in <code>Customer</code> class we raise an exception if a negative balance value is passed to the constructor.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">BalanceError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
	<span class="k">pass</span>

<span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">raise</span> <span class="n">BalanceError</span><span class="p">(</span><span class="s2">&#34;balance must be positive&#34;</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

<span class="k">try</span><span class="p">:</span>
	<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">except</span> <span class="n">BalanceError</span><span class="p">:</span>
	<span class="n">c1</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;balance must be positive, the account with 0 balance value has been created.&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><strong><code>except</code> block for a parent exception will catch child exceptions, but the opposite is not true</strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">SalaryError</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">class</span> <span class="nc">BonusError</span><span class="p">(</span><span class="n">SalaryError</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
	<span class="n">MIN_SALARY</span> <span class="o">=</span> <span class="mi">30000</span>
	<span class="n">MAX_BONUS</span> <span class="o">=</span> <span class="mi">5000</span>

	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span> <span class="o">=</span> <span class="mi">30000</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>    
		<span class="k">if</span> <span class="n">salary</span> <span class="o">&lt;</span> <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">:</span>
			<span class="k">raise</span> <span class="n">SalaryError</span><span class="p">(</span><span class="s2">&#34;Salary is too low!&#34;</span><span class="p">)</span>      
		<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
     
	<span class="k">def</span> <span class="nf">give_bonus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="n">Employee</span><span class="o">.</span><span class="n">MAX_BONUS</span><span class="p">:</span>
			<span class="k">raise</span> <span class="n">BonusError</span><span class="p">(</span><span class="s2">&#34;The bonus amount is too high!&#34;</span><span class="p">)</span>
        
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">+</span> <span class="n">amount</span> <span class="o">&lt;</span>  <span class="n">Employee</span><span class="o">.</span><span class="n">MIN_SALARY</span><span class="p">:</span>
			<span class="k">raise</span> <span class="n">SalaryError</span><span class="p">(</span><span class="s2">&#34;The salary after bonus is too low!&#34;</span><span class="p">)</span>
      
		<span class="k">else</span><span class="p">:</span>  
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">+=</span> <span class="n">amount</span>

<span class="n">emp</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Katze Rik&#34;</span><span class="p">,</span> <span class="n">salary</span><span class="o">=</span><span class="mi">50000</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="mi">7000</span><span class="p">)</span> <span class="c1"># bonus &gt; MAX_BONUS --&gt; BonusError Caught</span>
<span class="k">except</span> <span class="n">SalaryError</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;SalaryError caught!&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>SalaryError caught!
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="mi">7000</span><span class="p">)</span> <span class="c1"># bonus &gt; MAX_BONUS --&gt; BonusError Caught</span>
<span class="k">except</span> <span class="n">BonusError</span><span class="p">:</span>     
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;BonusError caught!&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>BonusError caught!
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="o">-</span><span class="mi">100000</span><span class="p">)</span> <span class="c1"># salary + amount &lt; MIN_SALARY --&gt; SalaryError Caught</span>
<span class="k">except</span> <span class="n">SalaryError</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;SalaryError caught again!&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>SalaryError caught again!
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="o">-</span><span class="mi">100000</span><span class="p">)</span>  <span class="c1"># salary + amount &lt; MIN_SALARY --&gt; SalaryError Caught</span>
<span class="k">except</span> <span class="n">BonusError</span><span class="p">:</span>  
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;BonusError caught again!&#34;</span><span class="p">)</span> 
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>---------------------------------------------------------------------------
SalaryError                               Traceback (most recent call last)
/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_57175/1321339394.py in &lt;module&gt;
      1 try:
----&gt; 2   emp.give_bonus(-100000)  # salary + amount &lt; MIN_SALARY --&gt; SalaryError Caught
      3 except BonusError:     
      4   print(&quot;BonusError caught again!&quot;)

/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_57175/1909163033.py in give_bonus(self, amount)
     17 
     18     elif self.salary + amount &lt;  Employee.MIN_SALARY:
---&gt; 19       raise SalaryError(&quot;The salary after bonus is too low!&quot;)
     20 
     21     else:

SalaryError: The salary after bonus is too low!
</code></pre><p>If you don&rsquo;t specify the exception name behind the <code>except</code>, then Python views it as <code>Exception</code>, thus every exceptions will be caught.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="o">-</span><span class="mi">100000</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span> <span class="c1"># or just `except:` </span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;BonusError caught again!&#34;</span><span class="p">)</span>  
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>BonusError caught again!
</code></pre><p>It&rsquo;s better to include an <code>except</code> block for a child exception before the block for a parent exception, otherwise the <strong>child exceptions will be always be caught in the parent block</strong>, and the <code>except</code> block for the child will never be executed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">emp</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Katze Rik&#34;</span><span class="p">,</span>\
                    <span class="mi">50000</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="mi">7000</span><span class="p">)</span> <span class="c1"># sub error</span>
<span class="k">except</span> <span class="n">BonusError</span><span class="p">:</span> 
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;BonusError caught&#34;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">SalaryError</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;SalaryError caught&#34;</span><span class="p">)</span> 
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>BonusError caught
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">emp</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&#34;Katze Rik&#34;</span><span class="p">,</span>\
                    <span class="mi">50000</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
	<span class="n">emp</span><span class="o">.</span><span class="n">give_bonus</span><span class="p">(</span><span class="mi">7000</span><span class="p">)</span> <span class="c1"># sub error</span>
<span class="k">except</span> <span class="n">SalaryError</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;SalaryError caught&#34;</span><span class="p">)</span> 
<span class="k">except</span> <span class="n">BonusError</span><span class="p">:</span> 
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;BonusError caught&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>SalaryError caught
</code></pre><h1 id="class-design">Class Design</h1>
<h2 id="liskov-substitution-principle">Liskov substitution principle</h2>
<p>Polymorphism means using a unified interface to operate on objects of different classes just as We&rsquo;ve already dealt with <code>pd.DataFrame</code>.</p>
<p>Recall that we defined a <code>BankAccount</code> class, and two classes inherited from it: a <code>CheckingAccount</code> class and a <code>SavingsAccount</code> class. All of them had a <code>withdraw</code> method, but the <code>CheckingAccount</code>&rsquo;s method was executing different code.</p>
<p>Let&rsquo;s say we defined a function to <code>withdraw</code> the same amount of money from a whole list of accounts at once. This function doesn&rsquo;t know whether the objects passed to it are <code>CheckingAccount</code>, <code>SavingsAccount</code> or just <code>BankAccount</code>. All that matters is that they have a <code>withdraw</code> method that accepts one argument. That is enough to make the function work. It does not check which <code>withdraw</code> it should call &ndash; the original or the modified. When the <code>withdraw</code> method is actually called, <strong>Python will dynamically pull the correct method</strong>: modified <code>withdraw</code> for whenever a <code>CheckingAccount</code> is being processed,and base <code>withdraw</code> for whenever a <code>SavingAccount</code> or generic <code>BankAccount</code> is processed. So you, as a person writing this batch processing function, <strong>don&rsquo;t need to worry about what exactly is being passed to it, only what kind of interface it has</strong>. To really make use of this idea, you have to design your classes with inheritance and polymorphism - the uniformity of interface - in mind.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">-=</span> <span class="n">amount</span>

<span class="k">class</span> <span class="nc">SavingsAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>
	<span class="k">pass</span>

<span class="k">class</span> <span class="nc">CheckingAccount</span><span class="p">(</span><span class="n">BankAccount</span><span class="p">):</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
		<span class="n">BankAccount</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span>
	
	<span class="k">def</span> <span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>
	
	<span class="k">def</span> <span class="nf">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">fee</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">fee</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">:</span>
			<span class="n">BankAccount</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="o">+</span><span class="n">fee</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">BankAccount</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">limit</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">batch_withdraw</span><span class="p">(</span><span class="n">list_of_accounts</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">acct</span> <span class="ow">in</span> <span class="n">list_of_accounts</span><span class="p">:</span>
		<span class="n">acct</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>

<span class="n">a1</span> <span class="o">=</span> <span class="n">BankAccount</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">SavingsAccount</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">CheckingAccount</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">accounts</span> <span class="o">=</span> <span class="p">[</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">]</span>
<span class="n">batch_withdraw</span><span class="p">(</span><span class="n">accounts</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>

<span class="nb">repr</span><span class="p">([</span><span class="n">ac</span><span class="o">.</span><span class="n">balance</span> <span class="k">for</span> <span class="n">ac</span> <span class="ow">in</span> <span class="n">accounts</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>'[500, 1500, 2480]'
</code></pre><p>There is a fundamental object-oriented design principle of when and how to use inheritance properly, called &ldquo;<strong>Liskov substitution principle (LSP)</strong>&quot;: <em>A base class should be interchangeable with any of its subclasses without altering any properties of the surrounding program</em>.</p>
<p>On the one hand, <strong>the method in a subclass should have a signature with parameters and returned values compatible with the method in the parent class</strong>. On the other hand, <strong>the state of objects also must stay consistent</strong>; the <strong>subclass method shouldn&rsquo;t rely on stronger input conditions, should not provide weaker output conditions, it should not throw additional exceptions</strong> and so on.</p>
<blockquote>
<p>The <a class="link" href="https://stackoverflow.com/questions/60604046/i-was-wondering-what-is-meant-by-class-state-in-oop-particularly-in-python"  target="_blank" rel="noopener"
    >state</a> of an object is it&rsquo;s attributes with it&rsquo;s values. To modify an object&rsquo;s state, a method need to have access to this object. For ordinary methods, this is provided by the <code>self</code> parameter.
Python&rsquo;s classes are objects, so Python has &ldquo;classmethods&rdquo; which can be invoked on either an instance or the class itself, but get the class object itself instead of an instance. Those classmethods can then modify the class&rsquo;s state (class attributes, which are shared by all instances of the class).</p>
</blockquote>
<p>The ultimate rule is that if your class hierarchy violates the Liskov substitution principle, then you should not be using inheritance, because it is likely to cause the code to behave in unpredictable ways somewhere down the road.</p>
<p>Using the example of our Account hierarchy, that means that wherever in your application you use a <code>BankAccount</code> object instance, substituting a <code>CheckingAaccount</code> instead should not affect anything in the surrounding program. For example, the batch <code>withdraw</code> functions worked regardless of what kind of account was used.</p>
<p>Let&rsquo;s illustrate some possible violations of LSP on our account classes: for example,</p>
<ul>
<li>the parent&rsquo;s &ndash; or base&rsquo;s &ndash; <code>withdraw</code> method could require 1 parameter, but the subclass method could require 2. Then we couldn&rsquo;t use the subclass&rsquo;s <code>withdraw</code> in place of the parent&rsquo;s. But if the subclass method has a default value for the second parameter, then there is no problem.</li>
<li>If the subclass method only accepts certain amounts, unlike the base one, then sometimes the subclass could not be used in place of the base class, if those unsuitable amounts are used.</li>
<li>If the base <code>withdraw</code> had a check for whether the resulting balance is positive, and only performed the <code>withdraw</code> in that case, but the subclass did not do that, we wouldn&rsquo;t be able to use subclass in place of the base class, because it&rsquo;s possible that ambient program depends on the fact that the balance is always positive after withdraw.</li>
</ul>
<p>The classic example of a problem that violates the Liskov Substitution Principle is the <strong>Circle-Ellipse problem</strong>, sometimes called the Square-Rectangle problem. By all means, it seems like you should be able to define a class <code>Rectangle</code>, with attributes <code>h</code> and <code>w</code> (for height and width), and then define a class <code>Square</code> that inherits from the <code>Rectangle</code>. After all, a square &ldquo;is-a&rdquo; rectangle! Unfortunately, this intuition doesn&rsquo;t apply to object-oriented design.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span>

<span class="k">class</span> <span class="nc">Square</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">Square</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">s1</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">s1</span><span class="o">.</span><span class="n">h</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>4 7
</code></pre><p>For example, we create a <code>Square</code> object with side length 4. Then the 4x4 <code>Square</code> object would no longer be a square if we assign 7 to <code>h</code>. A <code>Square</code> inherited from a <code>Rectangle</code> will always have both the <code>h</code> and <code>w</code> attributes, but we can&rsquo;t allow them to change independently of each other. We can make such modifies:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">w</span><span class="p">,</span><span class="n">h</span>
    
    <span class="k">def</span> <span class="nf">set_h</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span>
             
    <span class="k">def</span> <span class="nf">set_w</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span>
      
      
<span class="k">class</span> <span class="nc">Square</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">w</span><span class="p">,</span> <span class="n">w</span> 

    <span class="k">def</span> <span class="nf">set_h</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">h</span>
    
    <span class="k">def</span> <span class="nf">set_w</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">w</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span> 
</code></pre></td></tr></table>
</div>
</div><p>But these setter methods violate Liskov Substitution principle. Each of the setter methods of <code>Square</code> change both <code>h</code> and <code>w</code> attributes, while setter methods of <code>Rectangle</code> change only one attribute at a time, so <strong>the <code>Square</code> objects cannot be substituted for <code>Rectangle</code> into programs that rely on one attribute staying constant</strong>.</p>
<h2 id="private-attributes">Private attributes</h2>
<p>Any attribute or method of any class in Python can be accessed by anyone. There are a few ways to manage access to data. We can use some universal naming conventions to signal that the data is not for external consumption.</p>
<h3 id="_xxx"><code>_xxx</code></h3>
<p>When involving the attribute and method, the leading underscore has an conventional meaning. It is a tips to developer that Python community reach a consensus where <strong>this attribute or method are for internal use only</strong>. This convention is defined in PEP 8.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">my_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;I Love Python.&#34;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">at1</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_at2</span> <span class="o">=</span> <span class="mi">2</span>
	
	<span class="k">def</span> <span class="nf">_my_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;I Love Python too.&#34;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">at3</span> <span class="o">=</span> <span class="mi">3</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_at4</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">mc</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="n">mc</span><span class="o">.</span><span class="n">my_func</span><span class="p">()</span>
<span class="n">mc</span><span class="o">.</span><span class="n">_my_func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mc</span><span class="o">.</span><span class="n">at1</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">_at2</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">at3</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">_at4</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>I Love Python.
I Love Python too.
1 2 3 4
</code></pre><p>You can see that <code>_my_func()</code> or <code>_at2</code> does not prevent us from entering the class. This because it is not mandatory, just conventional. However, the leading underscore does generate affection when importing from modules.</p>
<p>Now, if you use wildcards <code>*</code> to import all names from a module, Python does not import names with leading underscores (but the methods and attributes warped by unprefixed object can be imported).</p>
<p>For example, we write such a module, and name it as <code>my_module.py</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">my_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">at1</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_at2</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">def</span> <span class="nf">_my_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">at3</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_at4</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">def</span> <span class="nf">my_func3</span><span class="p">():</span>
	<span class="k">def</span> <span class="nf">_my_func4</span><span class="p">():</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;test&#34;</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">_my_func4</span>

<span class="k">def</span> <span class="nf">_my_func2</span><span class="p">():</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;test&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>import the module with wildcard:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="kn">from</span> <span class="nn">my_module</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">mc</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="n">mc</span><span class="o">.</span><span class="n">my_func</span><span class="p">()</span>
<span class="n">mc</span><span class="o">.</span><span class="n">_my_func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mc</span><span class="o">.</span><span class="n">at1</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">_at2</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">at3</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">_at4</span><span class="p">)</span>
<span class="n">my_func3</span><span class="p">()()</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>1 2 3 4
test
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">_my_func2</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_25437/3445096031.py in &lt;module&gt;
----&gt; 1 _my_func2()

NameError: name '_my_func2' is not defined
</code></pre><p>Unlike wildcard imports, regular imports are not affected by the leading single underscore naming convention:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="kn">import</span> <span class="nn">my_module</span> <span class="k">as</span> <span class="nn">mm</span>
<span class="n">mm</span><span class="o">.</span><span class="n">_my_func2</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>test
</code></pre><p>In general, you should avoid wildcard imports and calling the leading underlined methods and attributes in public space.</p>
<h3 id="__xxx"><code>__xxx</code></h3>
<p>The double leading underscore prefix causes the <strong>Python interpreter to override attribute/method names</strong> to avoid naming conflicts in subclasses. This is also called <strong>name mangling</strong> - the interpreter changes the name of a variable so that it is less likely to collide when the class is extended.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="mi">11</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_bar</span> <span class="o">=</span> <span class="mi">23</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__baz</span> <span class="o">=</span> <span class="mi">23</span>
	<span class="k">def</span> <span class="nf">__func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;test&#34;</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>['_Test__baz',   # &lt;---
 '_Test__func',   # &lt;---
...
 '_bar',
 'foo']
</code></pre><p>You will see that there is a attribute on this object named <code>_Test__baz</code> and a method named <code>_Test_func</code>. This is the name modification that the Python interpreter does. <strong>It does this to avoid subclasses overwriting base class attributes and methods.</strong></p>
<p>Let&rsquo;s create a subclass that extends the <code>Test</code> class and try to override the existing attributes/method added in the constructor:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">ExtendedTest</span><span class="p">(</span><span class="n">Test</span><span class="p">):</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s1">&#39;overridden&#39;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">__baz</span> <span class="o">=</span> <span class="s1">&#39;overridden&#39;</span>

	<span class="k">def</span> <span class="nf">__func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;test1&#34;</span><span class="p">)</span>

<span class="n">t2</span> <span class="o">=</span> <span class="n">ExtendedTest</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">foo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">_bar</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">__baz</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>overridden
23
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_29055/1866563237.py in &lt;module&gt;
     11 print(t2.foo)
     12 print(t2._bar)
---&gt; 13 print(t2.__baz)

AttributeError: 'ExtendedTest' object has no attribute '__baz'
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">dir</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>['_ExtendedTest__baz',   # &lt;--
 '_ExtendedTest__func',   # &lt;--
 '_Test__baz',   # &lt;--
 '_Test__func',   # &lt;--
...
 '_bar',
 'foo']
</code></pre><p>You will find the <code>__baz</code> attribute and <code>__func</code> method of subclass has been renemed by Python interpreter as <code>_ExtendedTest__baz</code> and <code>_ExtendedTest__func</code>. <strong>Thus <code>__baz/__func</code> of base class has not been overrided by subclass.</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="nb">print</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">_Test__baz</span><span class="p">)</span>
<span class="n">t2</span><span class="o">.</span><span class="n">_Test__func</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">_ExtendedTest__baz</span><span class="p">)</span>
<span class="n">t2</span><span class="o">.</span><span class="n">_ExtendedTest__func</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>23
test
overridden
test1
</code></pre><blockquote>
<p>Click <a class="link" href="https://zhuanlan.zhihu.com/p/36173202"  target="_blank" rel="noopener"
    >here</a> or <a class="link" href="https://mp.weixin.qq.com/s/Z9BqZrsZVZgSeja9VYdK0w"  target="_blank" rel="noopener"
    >here</a> for more information.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="k">class</span> <span class="nc">BetterDate</span><span class="p">:</span>
    <span class="n">_MAX_DAYS</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">_MAX_MONTHS</span> <span class="o">=</span> <span class="mi">12</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">=</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span>
        
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_str</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">datestr</span><span class="p">):</span>
        <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">datestr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34;-&#34;</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_is_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">&lt;=</span> <span class="n">BetterDate</span><span class="o">.</span><span class="n">_MAX_DAYS</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span> <span class="o">&lt;=</span> <span class="n">BetterDate</span><span class="o">.</span><span class="n">_MAX_MONTHS</span><span class="p">)</span>
    
<span class="n">bd1</span> <span class="o">=</span> <span class="n">BetterDate</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bd1</span><span class="o">.</span><span class="n">_is_valid</span><span class="p">())</span>

<span class="n">bd2</span> <span class="o">=</span> <span class="n">BetterDate</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bd2</span><span class="o">.</span><span class="n">_is_valid</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>True
False
</code></pre><h2 id="properties">Properties</h2>
<p>We have worked with an <code>Employee</code> class where we defined methods like <code>set_salary</code> that were used to set the values for attributes. Later, we use the constructor to initialize the attributes . <strong>We can access and change the attributes directly by assignment</strong>. But this means that with a simple equality we can assign anything to <code>salary</code>: a million, a negative number, or even the word &ldquo;Hello&rdquo;. But salary should only be positive number.</p>
<p>So how do we control attribute access, validate it or even make the attribute read-only? We could modify the <code>set_salary</code> method, but that wouldn&rsquo;t help, because we could still use the dot syntax and <strong>assignment</strong> via equality.</p>
<p>We can reach there using the <strong>property decorator</strong>.</p>
<ul>
<li>Start by defining an <strong>&ldquo;internal&rdquo; attribute</strong> that will store the data, it is recommended to start the name with <strong>one leading underscore</strong>. Here, we defined a <code>_salary</code> attribute.</li>
<li>Next, we define a <strong>method</strong> whose name is the exact name we&rsquo;d like the restricted <strong>attribute</strong> to have, and put a decorator &ldquo;<code>property</code>&rdquo; on it.
In our case that method is called <code>salary</code>, without underscore, because that&rsquo;s how we&rsquo;d like to refer to it. If we were writing a DataFrame class, this could be &ldquo;<code>columns</code>&rdquo;, or &ldquo;<code>shape</code>&rdquo;. <strong>The method just returns the actual internal attribute that is storing the data</strong>.</li>
<li>To customize how the attribute is set, we implement a method with a decorator <code>&lt;attribute-name&gt;.setter</code>: <code>salary.setter</code> in our case.
The method itself is again named exactly the same as the property &ndash; salary - and <strong>it will be called when a value is assigned to the property attribute</strong>. It has a <code>self</code> argument, and an argument that represents the value to be assigned. Here we raise an exception if the value is negative, otherwise change the internal attribute.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="k">class</span> <span class="nc">Employer</span><span class="p">:</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">new_salary</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_salary</span> <span class="o">=</span> <span class="n">new_salary</span>
	
	<span class="nd">@property</span>
	<span class="k">def</span> <span class="nf">salary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_salary</span>
	
	<span class="nd">@salary</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">salary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_salary</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">new_salary</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
			<span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;Invalid salary&#34;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_salary</span> <span class="o">=</span> <span class="n">new_salary</span>
</code></pre></td></tr></table>
</div>
</div><p>So there are two methods called <code>salary</code> &ndash; the name of the property &ndash; that have different decorators. <strong>The method with <code>property</code> decorator returns the data, and the method with <code>salary.setter</code> decorator implements validation and sets the attribute</strong>.</p>
<p><strong>We can use this property just as if it was a regular attribute</strong> (remember the only real attribute we have is the internal underscore-salary). <strong>Use the dot syntax and equality sign to assign a value to the <code>salary</code> property. Then, the <code>setter</code> method will be called</strong>. If we try to assign a negative value to salary, an exception will be raised.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">emp</span> <span class="o">=</span> <span class="n">Employer</span><span class="p">(</span><span class="s2">&#34;haoming&#34;</span><span class="p">,</span> <span class="mi">35000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span> <span class="c1"># &lt;-- accessing the property</span>
<span class="n">emp</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="mi">60000</span> <span class="c1"># &lt;-- @salary.setter</span>
<span class="nb">print</span><span class="p">(</span><span class="n">emp</span><span class="o">.</span><span class="n">salary</span><span class="p">)</span> <span class="c1"># &lt;-- accessing the property again</span>
<span class="n">emp</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>35000
60000
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_29055/2378834019.py in &lt;module&gt;
----&gt; 1 emp.salary = -1

/var/folders/p6/qtqch15n41v436lkcl5zb7g80000gn/T/ipykernel_29055/3054542886.py in salary(self, new_salary)
     10         def salary(self, new_salary):
     11                 if new_salary &lt; 0:
---&gt; 12                         raise ValueError(&quot;Invalid salary&quot;)
     13                 self._salary = new_salary
     14 

ValueError: Invalid salary
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">new_bal</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">if</span> <span class="n">new_bal</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
           <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;Invalid balance!&#34;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span> <span class="o">=</span> <span class="n">new_bal</span>  
      
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">balance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;property called&#34;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span>
        
    <span class="nd">@balance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">balance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_bal</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">new_bal</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
           <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;Invalid balance!&#34;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_balance</span> <span class="o">=</span> <span class="n">new_bal</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Setter method called&#34;</span><span class="p">)</span>
     
<span class="n">cust</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s2">&#34;Belinda Lutz&#34;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cust</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
<span class="n">cust</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="mi">3000</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cust</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>property called
2000
Setter method called
property called
3000
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -------- Example -------- #</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">class</span> <span class="nc">LoggedDF</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_created_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">temp</span><span class="p">[</span><span class="s2">&#34;created_at&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_created_at</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>   
    
    <span class="c1"># Add a read-only property: _created_at</span>
    <span class="nd">@property</span>  
    <span class="k">def</span> <span class="nf">created_at</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_created_at</span>

<span class="c1"># Instantiate a LoggedDF called ldf</span>
<span class="n">ldf</span> <span class="o">=</span> <span class="n">LoggedDF</span><span class="p">({</span><span class="s2">&#34;col1&#34;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&#34;col2&#34;</span><span class="p">:[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]})</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">ldf</span><span class="o">.</span><span class="n">created_at</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><pre tabindex="0"><code>2019-09-10 14:56:45.115035
</code></pre><p>There are a few other things you can do with properties: if you do not define a <code>setter</code> method, the property will be <strong>read-only</strong>, like Dataframe shape. A method with an <code>&lt;attribute-name&gt;.getter</code> decorator will be called when the property&rsquo;s value is just retrieved, and the method with the <code>&lt;attribute-name&gt;.deleter</code> &ndash; when an attribute is deleted.</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/object-oriented-programming/">Object Oriented Programming</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css"integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"integrity="sha384-vZTG03m&#43;2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    

    

<aside class="related-contents--wrapper">
    <h2 class="section-title">Related contents</h2>
    <div class="related-contents">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/object-oriented-programming-vi-package-module/">
        
        
            <div class="article-image">
                
                    <img src="/head_img/oop_hi/oo6.png" loading="lazy" data-key="" data-hash="/head_img/oop_hi/oo6.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Object Oriented Programming VI (Package &amp; Module)</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/object-oriented-programming-v-special-attributes-magic-methods/">
        
        
            <div class="article-image">
                
                    <img src="/head_img/oop_hi/oo4.png" loading="lazy" data-key="" data-hash="/head_img/oop_hi/oo4.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Object Oriented Programming V (Special Attributes &amp; Magic Methods)</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/object-oriented-programming-iii-context-managers-decorators/">
        
        
            <div class="article-image">
                
                    <img src="/head_img/oop_hi/oo3.png" loading="lazy" data-key="" data-hash="/head_img/oop_hi/oo3.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Object Oriented Programming III (Context Managers &amp; Decorators)</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/object-oriented-programming-ii-iterators-comprehensions-generators/">
        
        
            <div class="article-image">
                
                    <img src="/head_img/oop_hi/oo2.png" loading="lazy" data-key="" data-hash="/head_img/oop_hi/oo2.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Object Oriented Programming II (Iterators, Comprehensions &amp; Generators)</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/object-oriented-programming-i-function/">
        
        
            <div class="article-image">
                
                    <img src="/head_img/oop_hi/oo1.png" loading="lazy" data-key="" data-hash="/head_img/oop_hi/oo1.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Object Oriented Programming I (Function)</h2>
        </div>
    </a>
</article>
            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 Haoming Wang
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.11.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>

</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#oop-fundamental">OOP Fundamental</a>
      <ol>
        <li><a href="#attributes-and-method">Attributes and Method</a></li>
        <li><a href="#__init__-constructor"><code>__init__</code> constructor</a></li>
      </ol>
    </li>
    <li><a href="#inheritance-and-polymorphism">Inheritance and Polymorphism</a>
      <ol>
        <li><a href="#instance-and-class-data">Instance and class data</a>
          <ol>
            <li><a href="#class-level-attribute">Class-level attribute</a></li>
            <li><a href="#class-level-method">Class-level method</a></li>
          </ol>
        </li>
        <li><a href="#class-inheritance">Class inheritance</a></li>
        <li><a href="#customizing-functionality-via-inheritance">Customizing functionality via inheritance</a></li>
      </ol>
    </li>
    <li><a href="#integrating-with-standard-python">Integrating with Standard Python</a>
      <ol>
        <li><a href="#object-and-type"><code>object</code> and <code>type</code>*</a></li>
        <li><a href="#comparison">Comparison</a></li>
        <li><a href="#string-representation">String representation</a></li>
        <li><a href="#exceptions">Exceptions</a></li>
      </ol>
    </li>
    <li><a href="#class-design">Class Design</a>
      <ol>
        <li><a href="#liskov-substitution-principle">Liskov substitution principle</a></li>
        <li><a href="#private-attributes">Private attributes</a>
          <ol>
            <li><a href="#_xxx"><code>_xxx</code></a></li>
            <li><a href="#__xxx"><code>__xxx</code></a></li>
          </ol>
        </li>
        <li><a href="#properties">Properties</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

<script
    src="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/ribbon.min.js"
    integrity="sha384-UEK8ZiP3VgFNP8KnKMKDmd4pAUAOJ59Y2Jo3ED2Z5qKQf6HLHovMxq7Beb9CLPUe"
    crossorigin="anonymous"
    size="300"
    alpha="0.6"
    zindex="-1"
    defer
></script>


    </body>
</html>
